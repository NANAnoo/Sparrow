set(ExternalDir ${ProjectRootDir}/external)
set(ExternalFolder "external")

if(NOT TARGET Glad)
    include(Glad.cmake)
    set_target_properties(Glad PROPERTIES FOLDER ${ExternalFolder}/Glad)
endif()

# GLFW with the same name of project GLFW, so named "glfw"
if(NOT TARGET glfw)
    option(GLFW_BUILD_EXAMPLES "" OFF)
    option(GLFW_BUILD_TESTS "" OFF)
    option(GLFW_BUILD_DOCS "" OFF)
    option(GLFW_INSTALL "" OFF)
    add_subdirectory(glfw)
    set_target_properties(glfw PROPERTIES FOLDER ${ExternalFolder}/glfw)
endif()

if(NOT TARGET assimp)
    option(ASSIMP_BUILD_ASSIMP_TOOLS OFF)
    option(ASSIMP_BUILD_SAMPLES OFF)
    option(ASSIMP_BUILD_TESTS OFF)
    option(BUILD_SHARED_LIBS OFF)
    add_subdirectory(assimp)
    set_target_properties(assimp PROPERTIES FOLDER ${ExternalFolder}/assimp)
endif()

if(NOT TARGET glm)
    option(BUILD_STATIC_LIBS "" ON)
    option(BUILD_TESTING "" OFF)
    option(GLM_TEST_ENABLE "" OFF)
    add_subdirectory(glm)
    set_target_properties(glm PROPERTIES FOLDER ${ExternalFolder}/glm)
endif()

if(NOT TARGET imgui)
    include(imgui.cmake)
    set_target_properties(imgui PROPERTIES FOLDER ${ExternalFolder}/imgui)
endif()

if (NOT TARGET sol2)
    option(SOL2_SYSTEM_INCLUDE "" OFF)
    option(SOL2_ENABLE_INSTALL "" OFF)
    option(SOL_USE_LUA_HPP "" ON)
    add_subdirectory(sol2)
    set_target_properties(sol2 PROPERTIES FOLDER ${ExternalFolder}/sol2)
endif()

if (NOT TARGET lua)
    add_subdirectory(lua)
    set_target_properties(lua PROPERTIES FOLDER ${ExternalFolder}/lua)
endif()

if (NOT TARGET stduuid)
    add_subdirectory(stduuid)
    set_target_properties(stduuid PROPERTIES FOLDER ${ExternalFolder}/stduuid)
endif()
if (NOT TARGET stduuid)
    add_subdirectory(stduuid)
    set_target_properties(stduuid PROPERTIES FOLDER ${ExternalFolder}/stduuid)
endif()

if(NOT TARGET FMOD)
    include(fmod.cmake)
endif()

if(NOT TARGET headers)
    add_library(headers INTERFACE)
    target_include_directories(headers INTERFACE "${ExternalDir}")
    target_include_directories(headers INTERFACE "${ExternalDir}/entt/include")
    target_include_directories(headers INTERFACE "${ExternalDir}/sol2/include")
    target_include_directories(headers INTERFACE "${ExternalDir}/stduuid/include")
    target_include_directories(headers INTERFACE "${ExternalDir}/lua/lua-5.4.3/include")
    target_include_directories(headers INTERFACE "${ExternalDir}/assimp/include")
    target_include_directories(headers INTERFACE ${FmodIncludeDir})
endif()